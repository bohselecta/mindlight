"use strict";exports.id=701,exports.ids=[701],exports.modules={39444:(a,b,c)=>{c.d(b,{O:()=>k});var d=c(21124),e=c(38301),f=c(44943);let g={1:"Strongly Disagree",2:"Disagree",3:"Somewhat Disagree",4:"Neutral",5:"Somewhat Agree",6:"Agree",7:"Strongly Agree"};function h({value:a,onChange:b,disabled:c=!1,className:h}){let[i,j]=(0,e.useState)(null);return(0,d.jsxs)("div",{className:(0,f.cn)("space-y-4",h),children:[(0,d.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 px-1",children:[(0,d.jsx)("span",{children:"Strongly Disagree"}),(0,d.jsx)("span",{children:"Neutral"}),(0,d.jsx)("span",{children:"Strongly Agree"})]}),(0,d.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5,6,7].map(e=>(0,d.jsx)("button",{onClick:()=>!c&&b(e),onMouseEnter:()=>j(e),onMouseLeave:()=>j(null),disabled:c,className:(0,f.cn)("flex-1 h-12 rounded-lg border-2 transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-slate-900",a===e?"border-violet-500 bg-violet-500/20 text-white":i===e?"border-violet-400 bg-violet-500/10 text-slate-200":"border-slate-600 hover:border-slate-500 text-slate-400 hover:text-slate-300",c&&"opacity-50 cursor-not-allowed"),"aria-label":`${e}: ${g[e]}`,"aria-pressed":a===e,children:(0,d.jsx)("span",{className:"font-medium",children:e})},e))}),a&&(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("span",{className:"text-sm text-slate-300 font-medium",children:g[a]})})]})}function i({options:a,value:b,onChange:c,disabled:e=!1,className:g}){return(0,d.jsx)("div",{className:(0,f.cn)("space-y-3",g),children:a.map((a,g)=>{let h=String.fromCharCode(65+g),i=b===a.id;return(0,d.jsx)("button",{onClick:()=>!e&&c(a.id),disabled:e,className:(0,f.cn)("w-full text-left p-4 rounded-xl border-2 transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-violet-500 focus:ring-offset-2 focus:ring-offset-slate-900",i?"border-violet-500 bg-violet-500/10 text-slate-200":"border-slate-600 hover:border-slate-500 text-slate-400 hover:text-slate-300",e&&"opacity-50 cursor-not-allowed"),"aria-pressed":i,children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-slate-700/50 flex items-center justify-center text-sm font-medium text-slate-300",children:h}),(0,d.jsx)("span",{className:"text-sm leading-relaxed",children:a.text})]})},a.id)})})}function j({current:a,total:b,className:c,showText:e=!0}){let g=Math.min(a/b*100,100);return(0,d.jsxs)("div",{className:(0,f.cn)("space-y-2",c),children:[e&&(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-slate-400",children:[a," of ",b," completed"]}),(0,d.jsxs)("span",{className:"text-slate-500",children:[Math.round(g),"%"]})]}),(0,d.jsx)("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:(0,d.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-violet-500 transition-all duration-500 ease-out",style:{width:`${g}%`}})})]})}function k({items:a,assessmentId:b,onComplete:c,onSaveProgress:g,className:k}){let[l,m]=(0,e.useState)(0),[n,o]=(0,e.useState)({}),[p,q]=(0,e.useState)(!1),r=a[l],s=Object.keys(n).length;a.length;let t=(0,e.useCallback)(d=>{r&&(o(a=>({...a,[r.id]:d})),setTimeout(()=>{l<a.length-1?m(a=>a+1):(q(!0),c(Object.entries({...n,[r.id]:d}).map(([a,c])=>({userId:"default_user",assessmentId:b,itemId:a,value:c,timestamp:new Date}))))},300))},[r,l,a.length,n,b,c]),u=(0,e.useCallback)(()=>{l>0&&m(a=>a-1)},[l]),v=(0,e.useCallback)(()=>{l<a.length-1&&m(a=>a+1)},[l,a.length]);return p?(0,d.jsxs)("div",{className:(0,f.cn)("text-center space-y-4",k),children:[(0,d.jsx)("div",{className:"text-2xl text-emerald-400",children:"✓"}),(0,d.jsx)("h3",{className:"text-xl font-medium text-slate-200",children:"Assessment Complete"}),(0,d.jsx)("p",{className:"text-slate-400",children:"Processing your responses..."})]}):r?(0,d.jsxs)("div",{className:(0,f.cn)("space-y-6",k),children:[(0,d.jsx)(j,{current:s,total:a.length,className:"mb-8"}),(0,d.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 mb-6",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-slate-700/50 flex items-center justify-center text-sm text-slate-400",children:l+1}),(0,d.jsx)("p",{className:"text-slate-200 leading-relaxed flex-1",children:r.prompt})]}),"likert7"===r.type?(0,d.jsx)(h,{value:n[r.id],onChange:t}):"vignette"===r.type?(0,d.jsx)(i,{options:r.options,value:n[r.id]?.toString(),onChange:a=>{let b=r.options.find(b=>b.id===a);b&&t(b.score)}}):null]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("button",{onClick:u,disabled:0===l,className:(0,f.cn)("px-4 py-2 rounded-lg border-2 transition-all",0===l?"border-slate-700 text-slate-600 cursor-not-allowed":"border-slate-600 text-slate-400 hover:border-slate-500 hover:text-slate-300"),children:"← Previous"}),(0,d.jsxs)("div",{className:"text-sm text-slate-500",children:[l+1," of ",a.length]}),(0,d.jsx)("button",{onClick:v,disabled:l===a.length-1||!n[r.id],className:(0,f.cn)("px-4 py-2 rounded-lg border-2 transition-all",l!==a.length-1&&n[r.id]?"border-slate-600 text-slate-400 hover:border-slate-500 hover:text-slate-300":"border-slate-700 text-slate-600 cursor-not-allowed"),children:"Next →"})]})]}):(0,d.jsxs)("div",{className:(0,f.cn)("text-center space-y-4",k),children:[(0,d.jsx)("div",{className:"text-2xl text-amber-400",children:"⚠"}),(0,d.jsx)("h3",{className:"text-xl font-medium text-slate-200",children:"No Items Available"}),(0,d.jsx)("p",{className:"text-slate-400",children:"Please check your assessment configuration."})]})}},44943:(a,b,c)=>{c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},55628:(a,b,c)=>{c.d(b,{Kl:()=>j,c1:()=>g,iL:()=>i,xc:()=>h});var d=c(38301),e=c(77084);let f=(0,c(39004).Y)();function g(a){let[b,c]=(0,d.useState)([]),[e,g]=(0,d.useState)(!0);return{responses:b,saveResponse:(0,d.useCallback)(async a=>{try{let b={...a,userId:"default_user"};await f.saveResponse(b),c(c=>c.find(b=>b.itemId===a.itemId)?c.map(c=>c.itemId===a.itemId?b:c):[...c,b])}catch(a){throw console.error("Failed to save response:",a),a}},[]),loading:e}}function h(){let[a,b]=(0,d.useState)(null),[c,g]=(0,d.useState)(!0),h=(0,d.useCallback)(async a=>{try{await f.saveProfile(a),b(a)}catch(a){throw console.error("Failed to save profile:",a),a}},[]),i=(0,d.useCallback)(async()=>{try{let a=await f.getAllResponses();if(0===a.length)return;let b=(0,e.cT)(a),c={userId:"default_user",scores:b.scores,composite_autonomy:b.composite_autonomy,interpretation:b.interpretation,lastUpdated:new Date,version:b.version};await h(c)}catch(a){throw console.error("Failed to recalculate profile:",a),a}},[h]);return{profile:a,saveProfile:h,recalculateProfile:i,loading:c}}function i(){let a=(0,d.useCallback)(async()=>{try{return await f.exportData()}catch(a){throw console.error("Failed to export data:",a),a}},[]),b=(0,d.useCallback)(async()=>{try{let b=await a(),{exportScoresCSV:d}=await Promise.resolve().then(c.bind(c,77084));if(b.profiles.length>0){let a=b.profiles[b.profiles.length-1],c={assessmentId:"export",userId:a.userId,timestamp:a.lastUpdated,version:a.version,scores:a.scores,composite_autonomy:a.composite_autonomy,response_integrity:{acquiescence_bias:0,straightlining:!1,completion_time_flag:!1,attention_check_passed:!0},completion_percentage:100,interpretation:a.interpretation};return d(c)}return"No profile data available for export"}catch(a){throw console.error("Failed to export CSV:",a),a}},[a]);return{exportData:a,exportCSV:b}}function j(){return{useResponses:g,useProfile:h,useExport:i,userId:()=>"default-user",loading:!1}}}};