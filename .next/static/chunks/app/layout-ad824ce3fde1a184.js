(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{13673:()=>{throw Error("Module build failed (from ./node_modules/next/dist/compiled/mini-css-extract-plugin/loader.js):\nHookWebpackError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\n    at We (/Users/home/dev/reflektor/node_modules/tailwindcss/dist/lib.js:37:1635)\n    at LazyResult.runOnRoot (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:329:16)\n    at LazyResult.runAsync (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:258:26)\n    at LazyResult.async (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:160:30)\n    at LazyResult.then (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:404:17)\n    at tryRunOrWebpackError (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:316119)\n    at __webpack_require_module__ (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)\n    at __nested_webpack_require_161494__ (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at done (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14824)\n    at Hook.eval [as callAsync] (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:15:1)\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:6378)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130687\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14402)\n    at timesSync (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:5027)\n    at Object.eachLimit (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14208)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130247\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at timesSync (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:5027)\n    at Object.eachLimit (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14208)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:129985\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at done (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14824)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:129496\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:110331\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:315955\n    at _done (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:9:1)\n    at Hook.eval [as callAsync] (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:39:22)\n    at Cache.store (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16215)\n    at ItemCacheFacade.store (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:17460)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:110318\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16080\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:15641\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:549074\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16110\n    at eval (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:30:1)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n-- inner error --\nError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\n    at We (/Users/home/dev/reflektor/node_modules/tailwindcss/dist/lib.js:37:1635)\n    at LazyResult.runOnRoot (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:329:16)\n    at LazyResult.runAsync (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:258:26)\n    at LazyResult.async (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:160:30)\n    at LazyResult.then (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:404:17)\n    at Object.<anonymous> (/Users/home/dev/reflektor/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/Users/home/dev/reflektor/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/Users/home/dev/reflektor/src/app/globals.css:1:7)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:962717\n    at Hook.eval [as call] (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9002), <anonymous>:7:1)\n    at Hook.CALL_DELEGATE [as _call] (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:6272)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:131565\n    at tryRunOrWebpackError (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:316073)\n    at __webpack_require_module__ (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:131532)\n    at __nested_webpack_require_161494__ (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130967)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:131824\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at done (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14824)\n    at Hook.eval [as callAsync] (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:15:1)\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:6378)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130687\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14402)\n    at timesSync (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:5027)\n    at Object.eachLimit (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14208)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:130247\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at timesSync (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:5027)\n    at Object.eachLimit (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14208)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:129985\n    at symbolIterator (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at done (/Users/home/dev/reflektor/node_modules/next/dist/compiled/neo-async/async.js:1:14824)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:129496\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:110331\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:315955\n    at _done (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:9:1)\n    at Hook.eval [as callAsync] (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:39:22)\n    at Cache.store (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16215)\n    at ItemCacheFacade.store (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:17460)\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:110318\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16080\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:15641\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:549074\n    at /Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:29:16110\n    at eval (eval at create (/Users/home/dev/reflektor/node_modules/next/dist/compiled/webpack/bundle5.js:14:9224), <anonymous>:30:1)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n\nGenerated code for /Users/home/dev/reflektor/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[2]!/Users/home/dev/reflektor/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[10].use[3]!/Users/home/dev/reflektor/src/app/globals.css\n1 | throw new Error(\"Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\\n    at We (/Users/home/dev/reflektor/node_modules/tailwindcss/dist/lib.js:37:1635)\\n    at LazyResult.runOnRoot (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:329:16)\\n    at LazyResult.runAsync (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:258:26)\\n    at LazyResult.async (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:160:30)\\n    at LazyResult.then (/Users/home/dev/reflektor/node_modules/next/node_modules/postcss/lib/lazy-result.js:404:17)\");")},23191:(e,s,o)=>{"use strict";o.d(s,{PWAProvider:()=>u});var t=o(95155),n=o(12115),d=o(39867),l=o(71847);let r=(0,l.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),a=(0,l.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),i=(0,l.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);function c(){let[e,s]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[i,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches)return void c(!0);let e=e=>{e.preventDefault(),s(e),setTimeout(()=>{l(!0)},3e3)},o=()=>{c(!0),l(!1),s(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",o)}},[]);let m=async()=>{if(e)try{await e.prompt();let{outcome:o}=await e.userChoice;"accepted"===o?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),s(null),l(!1)}catch(e){console.error("Error showing install prompt:",e)}};return i||!o||!e||sessionStorage.getItem("pwa-install-dismissed")?null:(0,t.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:(0,t.jsxs)("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-700 rounded-2xl p-4 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-violet-500 rounded-xl flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"w-5 h-5 text-white"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-slate-200 mb-1",children:"Install Reflector"}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-3",children:"Add to your home screen for quick access to your epistemic autonomy training."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:m,className:"flex-1 bg-gradient-to-r from-blue-500 to-violet-500 hover:from-blue-600 hover:to-violet-600 text-white text-xs py-2 px-3 rounded-lg font-medium transition-all",children:"Install"}),(0,t.jsx)("button",{onClick:()=>{l(!1),sessionStorage.setItem("pwa-install-dismissed","true")},className:"text-slate-400 hover:text-slate-200 transition-colors",children:(0,t.jsx)(r,{className:"w-4 h-4"})})]})]})]}),(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[(0,t.jsx)(a,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Works on mobile and desktop"})]})})]})})}function m(){let[e,s]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=()=>{d(navigator.onLine)},o=window.matchMedia("(display-mode: standalone)").matches,t=/iPad|iPhone|iPod/.test(navigator.userAgent),n="standalone"in window.navigator&&window.navigator.standalone;return s(o||t&&n),e(),window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e)?(0,t.jsx)("div",{className:"fixed top-4 right-4 z-40",children:(0,t.jsxs)("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-700 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,t.jsx)(i,{className:"w-4 h-4 text-emerald-400"}),(0,t.jsx)("span",{className:"text-xs text-slate-300",children:"PWA Mode"}),!o&&(0,t.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full",title:"Offline"})]})}):null}function u(e){let{children:s}=e;return(0,n.useEffect)(()=>{"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{let e=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{let s=e.installing;s&&s.addEventListener("statechange",()=>{"installed"===s.state&&navigator.serviceWorker.controller&&function(){let e=document.createElement("div");e.className="fixed top-4 right-4 z-50 bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl",e.innerHTML='\n    <div class="flex items-center gap-3">\n      <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">\n        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\n        </svg>\n      </div>\n      <div>\n        <h3 class="text-sm font-medium text-slate-200">Update Available</h3>\n        <p class="text-xs text-slate-400">A new version of Reflector is ready.</p>\n      </div>\n      <button id="update-btn" class="bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-3 rounded-lg transition-all">\n        Update\n      </button>\n      <button id="dismiss-btn" class="text-slate-400 hover:text-slate-200">\n        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n        </svg>\n      </button>\n    </div>\n  ',document.body.appendChild(e);let s=e.querySelector("#update-btn"),o=e.querySelector("#dismiss-btn");null==s||s.addEventListener("click",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),e.remove()}),null==o||o.addEventListener("click",()=>{e.remove()}),setTimeout(()=>{document.body.contains(e)&&e.remove()},1e4)}()})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}catch(e){console.error("Service Worker registration failed:",e)}})},[]),(0,t.jsxs)(t.Fragment,{children:[s,(0,t.jsx)(c,{}),(0,t.jsx)(m,{})]})}},39867:(e,s,o)=>{"use strict";o.d(s,{A:()=>t});let t=(0,o(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},71847:(e,s,o)=>{"use strict";o.d(s,{A:()=>a});var t=o(12115);let n=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,o)=>o?o.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},d=function(){for(var e=arguments.length,s=Array(e),o=0;o<e;o++)s[o]=arguments[o];return s.filter((e,s,o)=>!!e&&""!==e.trim()&&o.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)((e,s)=>{let{color:o="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:c,iconNode:m,...u}=e;return(0,t.createElement)("svg",{ref:s,...l,width:n,height:n,stroke:o,strokeWidth:a?24*Number(r)/Number(n):r,className:d("lucide",i),...!c&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[s,o]=e;return(0,t.createElement)(s,o)}),...Array.isArray(c)?c:[c]])}),a=(e,s)=>{let o=(0,t.forwardRef)((o,l)=>{let{className:a,...i}=o;return(0,t.createElement)(r,{ref:l,iconNode:s,className:d("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),a),...i})});return o.displayName=n(e),o}},95723:(e,s,o)=>{Promise.resolve().then(o.t.bind(o,13673,23)),Promise.resolve().then(o.bind(o,23191))}},e=>{e.O(0,[441,255,358],()=>e(e.s=95723)),_N_E=e.O()}]);