(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{1473:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},17910:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},61362:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},65129:(e,t,s)=>{Promise.resolve().then(s.bind(s,88669))},71847:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(12115);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:x,...h}=e;return(0,a.createElement)("svg",{ref:t,...i,width:l,height:l,stroke:s,strokeWidth:c?24*Number(n)/Number(l):n,className:r("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:c,...o}=s;return(0,a.createElement)(n,{ref:i,iconNode:t,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return s.displayName=l(e),s}},83457:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},88669:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(95155),l=s(12115),r=s(20063),i=s(77990),n=s(84724),c=s(83457),o=s(17910),d=s(71847);let x=(0,d.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var h=s(1473);let m=(0,d.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var u=s(61362),b=s(78396),g=s(64269);let p=[{id:"approval",name:"Approval-Seeking",description:"Your sense of worth depends on agreement from admired figures",trigger:"When an authority I respect disagrees with me, I feel...",icon:c.A,color:"rose"},{id:"dependence",name:"Dependence",description:"You defer to your group for judgment rather than trusting your own",trigger:"When I hold a belief my community rejects, I feel...",icon:o.A,color:"blue"},{id:"punitiveness",name:"Punitiveness",description:"You experience harsh, punitive reactions when beliefs are challenged",trigger:"When someone challenges my core belief, I feel...",icon:x,color:"amber"},{id:"defectiveness",name:"Defectiveness",description:"Being wrong feels like a personal flaw rather than a learning opportunity",trigger:"When I realize I might be wrong about something important, I feel...",icon:h.A,color:"violet"}],f=["Shame","Anger","Anxiety","Fear","Worthless","Defensive","Panicked","Rejected","Confused","Calm"],v=[{phase:"Inhale",duration:4,instruction:"Breathe in slowly through your nose"},{phase:"Hold",duration:4,instruction:"Hold your breath gently"},{phase:"Exhale",duration:4,instruction:"Breathe out slowly through your mouth"},{phase:"Hold",duration:4,instruction:"Pause before the next breath"}];function j(){let e=(0,r.useRouter)(),{userId:t,loading:s}=(0,i.Kl)(),[c,o]=(0,l.useState)("intro"),[d,x]=(0,l.useState)(null),[j,N]=(0,l.useState)([]),[y,w]=(0,l.useState)(5),[k,A]=(0,l.useState)(!1),[R,C]=(0,l.useState)(0),[M,S]=(0,l.useState)(0),[I,W]=(0,l.useState)(null),[B,D]=(0,l.useState)(8),[E,L]=(0,l.useState)(""),P=()=>null===I?0:Math.round(Math.max(0,Math.min(100,50+10*(B-I)+30*!!k-y/10*20))),T=async()=>{if(!t||!d||null===I)return;P();let s={id:crypto.randomUUID(),userId:t,schema:d.id,preRegulation:{emotion:j.join(", "),intensity:y,certainty:B},postRegulation:{emotion:"Regulated",intensity:Math.max(1,y-2),certainty:I},timestamp:new Date};try{await b.W.saveSchemaReclaim(s),await b.W.checkModuleMilestones(),await b.W.checkBadges(),e.push("/progress")}catch(e){console.error("Failed to save schema reclaim session:",e)}},Y=e=>{switch(e){case"rose":return{bg:"bg-rose-500/20",border:"border-rose-500",text:"text-rose-400",accent:"accent-rose-500"};case"blue":return{bg:"bg-blue-500/20",border:"border-blue-500",text:"text-blue-400",accent:"accent-blue-500"};case"amber":return{bg:"bg-amber-500/20",border:"border-amber-500",text:"text-amber-400",accent:"accent-amber-500"};case"violet":return{bg:"bg-violet-500/20",border:"border-violet-500",text:"text-violet-400",accent:"accent-violet-500"};default:return{bg:"bg-slate-500/20",border:"border-slate-500",text:"text-slate-400",accent:"accent-slate-500"}}},O="intro"===c?0:"select-schema"===c?20:"identify-emotion"===c?40:"breathing"===c?60:"belief-check"===c?80:100;if(s||!t)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-xl text-slate-400",children:"Loading Schema Reclaim..."})});if("intro"===c)return(0,a.jsx)(n.O,{title:"Schema Reclaim",description:"Decouple emotions from belief formation",progress:O,onNext:()=>o("select-schema"),nextLabel:"Begin Exercise →",icon:(0,a.jsx)(m,{className:"w-5 h-5 text-white"}),showNav:!1,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-slate-200",children:"What you'll learn"}),(0,a.jsx)("p",{className:"text-slate-400 leading-relaxed",children:"When your beliefs are challenged, certain emotional patterns (schemas) can hijack your thinking. This module helps you notice these triggers and reclaim autonomy."}),(0,a.jsxs)("div",{className:"bg-violet-900/20 border border-violet-700/30 rounded-xl p-4",children:[(0,a.jsxs)("p",{className:"text-sm text-violet-300 leading-relaxed",children:[(0,a.jsx)("strong",{className:"text-violet-200",children:"The pattern:"})," Emotional charge → Defensive certainty → Closed mind"]}),(0,a.jsxs)("p",{className:"text-sm text-violet-300 leading-relaxed mt-2",children:[(0,a.jsx)("strong",{className:"text-violet-200",children:"The reclaim:"})," Notice trigger → Regulate → Re-examine belief"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:p.map(e=>{let t=e.icon,s=Y(e.color);return(0,a.jsxs)("div",{className:"bg-slate-800/30 border border-slate-700/50 rounded-xl p-4",children:[(0,a.jsx)(t,{className:(0,g.cn)("w-5 h-5 mb-2",s.text)}),(0,a.jsx)("div",{className:"text-sm font-medium text-slate-300",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:e.description})]},e.id)})})]})});if("select-schema"===c)return(0,a.jsx)(n.O,{title:"Choose Your Trigger Pattern",description:"Which emotional pattern feels most familiar when your beliefs are challenged?",progress:O,onNext:()=>o("identify-emotion"),onBack:()=>o("intro"),nextEnabled:null!==d,nextLabel:"Continue →",icon:(0,a.jsx)(m,{className:"w-5 h-5 text-white"}),children:(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:p.map(e=>{let t=e.icon,s=(null==d?void 0:d.id)===e.id,l=Y(e.color);return(0,a.jsx)("button",{onClick:()=>x(e),className:(0,g.cn)("text-left p-6 rounded-2xl border-2 transition-all",s?"".concat(l.border," ").concat(l.bg):"border-slate-700 hover:border-slate-600 bg-slate-800/50"),children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:(0,g.cn)("flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",l.bg),children:(0,a.jsx)(t,{className:(0,g.cn)("w-6 h-6",l.text)})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-slate-400 leading-relaxed",children:e.description})]}),s&&(0,a.jsx)(u.A,{className:(0,g.cn)("w-6 h-6",l.text)})]})},e.id)})})});if("identify-emotion"===c){let e=(null==d?void 0:d.icon)||h.A,t=Y((null==d?void 0:d.color)||"violet");return(0,a.jsx)(n.O,{title:(null==d?void 0:d.name)||"Emotional Identification",description:"Identify your emotional response to belief challenges",progress:O,onNext:()=>{o("breathing"),C(0),S(0),(()=>{let e=0,t=0,s=0,a=setInterval(()=>{let l=v[e].duration;(t+=.1)>=l&&(t=0,0==(e=(e+1)%v.length)&&++s>=4&&(clearInterval(a),A(!0),setTimeout(()=>o("belief-check"),1e3))),C(e),S(t/l*100)},100)})()},onBack:()=>o("select-schema"),nextEnabled:j.length>0&&E.trim().length>0,nextLabel:"Begin Regulation →",icon:(0,a.jsx)(e,{className:"w-5 h-5 text-white"}),children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsxs)("p",{className:"text-lg text-slate-300 mb-6 italic",children:['"',null==d?void 0:d.trigger,'"']}),(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Select all emotions you experience (choose at least one):"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:f.map(e=>(0,a.jsx)("button",{onClick:()=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:(0,g.cn)("p-3 rounded-xl border-2 text-sm transition-all",j.includes(e)?"border-violet-500 bg-violet-500/20 text-violet-200":"border-slate-600 hover:border-slate-500 text-slate-400"),children:e},e))}),(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Intensity of this emotional response (1-10):"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:y,onChange:e=>w(parseInt(e.target.value)),className:(0,g.cn)("flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer",t.accent),"aria-label":"Emotional intensity from 1 to 10"}),(0,a.jsx)("span",{className:"text-2xl font-light text-slate-200 w-12 text-center",children:y})]}),(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Quick: State the belief being challenged:"}),(0,a.jsx)("input",{type:"text",value:E,onChange:e=>L(e.target.value),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-4 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-violet-500 transition-colors",placeholder:"e.g., 'Tax policy X is effective' or 'Remote work reduces productivity'"}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Right now, how certain are you this belief is correct? (1-10):"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:B,onChange:e=>D(parseInt(e.target.value)),className:(0,g.cn)("flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer",t.accent),"aria-label":"Belief certainty from 1 to 10"}),(0,a.jsx)("span",{className:"text-2xl font-light text-slate-200 w-12 text-center",children:B})]})]})]})})})}if("breathing"===c){let e=v[R];return(0,a.jsx)(n.O,{title:"60-Second Regulation",description:"Follow the breathing pattern",progress:O,showNav:!1,icon:(0,a.jsx)(m,{className:"w-5 h-5 text-white"}),children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"relative mx-auto",style:{width:"280px",height:"280px"},children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"rounded-full bg-gradient-to-br from-violet-500/30 to-fuchsia-500/30 border-4 border-violet-500/50 transition-all duration-[400ms] ease-in-out flex items-center justify-center",style:{width:R%2==0?"280px":"180px",height:R%2==0?"280px":"180px"},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-light text-violet-300 mb-2",children:e.phase}),(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[Math.ceil(v[R].duration-M/100*v[R].duration),"s"]})]})})}),(0,a.jsxs)("svg",{className:"absolute inset-0 -rotate-90",viewBox:"0 0 280 280",children:[(0,a.jsx)("circle",{cx:"140",cy:"140",r:"136",fill:"none",stroke:"rgba(139, 92, 246, 0.1)",strokeWidth:"8"}),(0,a.jsx)("circle",{cx:"140",cy:"140",r:"136",fill:"none",stroke:"rgba(139, 92, 246, 0.8)",strokeWidth:"8",strokeDasharray:"".concat(2*Math.PI*136),strokeDashoffset:"".concat(2*Math.PI*136*(1-M/100)),strokeLinecap:"round",className:"transition-all duration-100"})]})]}),(0,a.jsx)("p",{className:"text-center text-slate-300 text-lg",children:e.instruction}),k&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-emerald-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-emerald-300",children:"Regulation complete. Notice any shift?"})]})]})})}if("belief-check"===c)return(0,a.jsx)(n.O,{title:"Re-examine Your Belief",description:"After emotional regulation, how do you feel about this belief?",progress:O,onNext:()=>o("results"),onBack:()=>o("breathing"),nextEnabled:null!==I,nextLabel:"See Your ARD Score →",icon:(0,a.jsx)(m,{className:"w-5 h-5 text-white"}),children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("div",{className:"bg-slate-900/50 border border-slate-600 rounded-xl p-4 mb-6",children:(0,a.jsxs)("p",{className:"text-slate-300 italic",children:['"',E,'"']})}),(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-3",children:"Now, how certain are you this belief is correct? (1-10):"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:null!=I?I:B,onChange:e=>W(parseInt(e.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-violet-500","aria-label":"Post-regulation belief certainty from 1 to 10"}),(0,a.jsx)("span",{className:"text-2xl font-light text-slate-200 w-12 text-center",children:null!=I?I:B})]}),null!==I&&I!==B&&(0,a.jsx)("div",{className:"bg-violet-900/20 border border-violet-700/30 rounded-xl p-4 mt-4",children:(0,a.jsxs)("p",{className:"text-sm text-violet-300",children:["Your certainty shifted by ",Math.abs(B-I)," points",I<B?" (decreased)":" (increased)",". This is affect regulation in action."]})})]})})});if("results"===c){let e=P(),t=B-(null!=I?I:B);return(0,a.jsx)(n.O,{title:"Affect Regulation Score",description:"ARD (Affect Regulation in Debate)",progress:O,onNext:T,onBack:()=>o("belief-check"),nextLabel:"Save Progress →",icon:(0,a.jsx)(m,{className:"w-5 h-5 text-white"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-8 text-center",children:[(0,a.jsx)("div",{className:"text-6xl font-light text-slate-200 mb-4",children:e}),(0,a.jsxs)("div",{className:"text-lg text-violet-400 mb-4",children:[e>=70?"Excellent":e>=50?"Good":"Developing"," Regulation"]}),(0,a.jsx)("p",{className:"text-slate-300 leading-relaxed max-w-xl mx-auto",children:e>=70?"You demonstrated strong ability to decouple emotion from belief evaluation.":e>=50?"You showed some capacity to regulate affect. Practice strengthens this skill.":"This is challenging work. Regular practice builds emotional flexibility."})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Before Regulation"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Emotions"}),(0,a.jsx)("span",{className:"text-slate-200",children:j.join(", ")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Intensity"}),(0,a.jsxs)("span",{className:"text-slate-200",children:[y,"/10"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Certainty"}),(0,a.jsxs)("span",{className:"text-slate-200",children:[B,"/10"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"After Regulation"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Breathing"}),(0,a.jsx)("span",{className:"text-emerald-400",children:"✓ Completed"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Certainty"}),(0,a.jsxs)("span",{className:"text-slate-200",children:[I,"/10"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Change"}),(0,a.jsxs)("span",{className:t>0?"text-emerald-400":t<0?"text-amber-400":"text-slate-400",children:[t>0?"↓":t<0?"↑":"→"," ",Math.abs(t)," points"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-violet-900/30 to-fuchsia-900/30 border border-violet-700/50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-violet-200 mb-3",children:"What This Means"}),(0,a.jsxs)("p",{className:"text-sm text-violet-300/80 leading-relaxed",children:["The ",(0,a.jsx)("strong",{children:null==d?void 0:d.name})," schema often creates defensive certainty when beliefs are challenged. Your ability to regulate this emotional response and re-examine the belief with less certainty indicates improved ",(0,a.jsx)("strong",{children:"Affect Regulation in Debate (ARD)"}),"."]}),(0,a.jsx)("p",{className:"text-xs text-violet-400/60 mt-3",children:"High ARD scores correlate with reduced ideological capture and increased epistemic humility."})]})]})})}return null}}},e=>{e.O(0,[278,760,396,0,441,255,358],()=>e(e.s=65129)),_N_E=e.O()}]);