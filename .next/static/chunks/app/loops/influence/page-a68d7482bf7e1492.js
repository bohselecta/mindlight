(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{12768:(e,t,s)=>{Promise.resolve().then(s.bind(s,93457))},14639:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},71847:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(12115);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:x,...u}=e;return(0,a.createElement)("svg",{ref:t,...i,width:l,height:l,stroke:s,strokeWidth:c?24*Number(n)/Number(l):n,className:r("lucide",o),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:c,...o}=s;return(0,a.createElement)(n,{ref:i,iconNode:t,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...o})});return s.displayName=l(e),s}},93457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(95155),l=s(12115),r=s(20063),i=s(77990),n=s(84724),c=s(71847);let o=(0,c.A)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var d=s(14639);let x=(0,c.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var u=s(78396),h=s(64269);let m=[{id:"podcast",label:"Podcast",icon:o},{id:"news",label:"News Site",icon:d.A},{id:"social",label:"Social Media",icon:x},{id:"person",label:"Person/Influencer",icon:x},{id:"community",label:"Online Community",icon:x}],b=[{id:"left",label:"Progressive/Left",color:"blue"},{id:"center",label:"Centrist",color:"slate"},{id:"right",label:"Conservative/Right",color:"red"},{id:"unknown",label:"Unknown/Mixed",color:"violet"}],p=[{id:"daily",label:"Daily"},{id:"weekly",label:"Weekly"},{id:"monthly",label:"Monthly"}];function g(){let e=(0,r.useRouter)(),{userId:t,loading:s}=(0,i.Kl)(),[c,o]=(0,l.useState)("intro"),[x,g]=(0,l.useState)([]),[y,v]=(0,l.useState)({type:"podcast",leaning:"center",trust:3,frequency:"weekly",category:"general"}),[j,f]=(0,l.useState)([]);(0,l.useEffect)(()=>{"visualization"===c&&x.length>0&&N()},[c,x]);let N=()=>{f(x.map((e,t)=>{let s=t/x.length*2*Math.PI,a=(e.trust-3)*15;return{id:e.id,x:200+(120-a)*Math.cos(s),y:200+(120-a)*Math.sin(s),source:e}}))},w=()=>{if(0===x.length)return null;let e=new Set(x.map(e=>e.type)).size/m.length*100,t={};x.forEach(e=>{t[e.leaning]=(t[e.leaning]||0)+1});let s=Object.keys(t).length/b.length*100,a=Object.entries(t).sort((e,t)=>t[1]-e[1])[0],l=((null==a?void 0:a[1])||0)/x.length*100;return{typeDiversity:Math.round(e),ideologicalDiversity:Math.round(s),homophily:Math.round(l),overallDiversity:Math.round(100-l),dominantLeaning:(null==a?void 0:a[0])||"none",totalSources:x.length}},k=async()=>{if(t&&0!==x.length)try{for(let e of x){let s={id:e.id,userId:t,name:e.name,type:e.type,leaning:e.leaning,trust:e.trust,frequency:e.frequency,category:e.category};await u.W.saveInfluenceSource(s)}await u.W.checkModuleMilestones(),await u.W.checkBadges(),e.push("/progress")}catch(e){console.error("Failed to save influence sources:",e)}},D=e=>{switch(e){case"blue":return"text-blue-400";case"slate":default:return"text-slate-400";case"red":return"text-red-400";case"violet":return"text-violet-400"}},S="intro"===c?0:"add-sources"===c?50:"visualization"===c?75:100;if(s||!t)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-xl text-slate-400",children:"Loading Influence Map..."})});if("intro"===c)return(0,a.jsx)(n.O,{title:"Influence Map",description:"Where do your beliefs actually come from?",progress:S,onNext:()=>o("add-sources"),nextLabel:"Map My Sources →",icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-white"}),showNav:!1,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-slate-200",children:"What you'll discover"}),(0,a.jsx)("p",{className:"text-slate-400 leading-relaxed",children:"Most people underestimate how homogeneous their information diet is. This exercise maps your sources and reveals echo chamber patterns you might not notice day-to-day."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"bg-cyan-900/20 border border-cyan-700/30 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-2xl text-cyan-400 mb-1",children:"\uD83D\uDCCA"}),(0,a.jsx)("div",{className:"text-sm text-cyan-300",children:"Source diversity score"})]}),(0,a.jsxs)("div",{className:"bg-cyan-900/20 border border-cyan-700/30 rounded-xl p-4",children:[(0,a.jsx)("div",{className:"text-2xl text-cyan-400 mb-1",children:"\uD83D\uDD0D"}),(0,a.jsx)("div",{className:"text-sm text-cyan-300",children:"Homophily detection"})]})]})]}),(0,a.jsx)("div",{className:"bg-cyan-900/20 border border-cyan-700/30 rounded-xl p-4",children:(0,a.jsxs)("p",{className:"text-sm text-cyan-300 leading-relaxed",children:[(0,a.jsx)("strong",{className:"text-cyan-200",children:"Privacy note:"})," Your sources stay on your device. We're showing you patterns, not judging content."]})})]})});if("add-sources"===c){var M;return(0,a.jsx)(n.O,{title:"Log Your Information Sources",description:"Add at least 5-10 sources for meaningful insights",progress:S,onNext:()=>o("visualization"),onBack:()=>o("intro"),nextEnabled:x.length>=5,nextLabel:"Visualize Network →",icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-white"}),children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Add a Source"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Name"}),(0,a.jsx)("input",{type:"text",value:y.name||"",onChange:e=>v(t=>({...t,name:e.target.value})),placeholder:"e.g., 'NYT', 'Joe Rogan', 'r/politics'",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Type"}),(0,a.jsx)("select",{value:y.type,onChange:e=>v(t=>({...t,type:e.target.value})),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-slate-200 focus:outline-none focus:border-cyan-500 transition-colors","aria-label":"Source type",children:m.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Perspective/Lean"}),(0,a.jsx)("select",{value:y.leaning,onChange:e=>v(t=>({...t,leaning:e.target.value})),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-slate-200 focus:outline-none focus:border-cyan-500 transition-colors","aria-label":"Source perspective or leaning",children:b.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm text-slate-400 mb-2",children:["Trust Level: ",y.trust,"/5"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"5",value:y.trust,onChange:e=>v(t=>({...t,trust:parseInt(e.target.value)})),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-500","aria-label":"Trust level from 1 to 5"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[(0,a.jsx)("span",{children:"Low"}),(0,a.jsx)("span",{children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Frequency"}),(0,a.jsx)("select",{value:y.frequency,onChange:e=>v(t=>({...t,frequency:e.target.value})),className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-slate-200 focus:outline-none focus:border-cyan-500 transition-colors","aria-label":"Source frequency",children:p.map(e=>(0,a.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-slate-400 mb-2",children:"Category"}),(0,a.jsx)("input",{type:"text",value:y.category||"",onChange:e=>v(t=>({...t,category:e.target.value})),placeholder:"e.g., 'politics', 'tech', 'science'",className:"w-full bg-slate-900/50 border border-slate-600 rounded-xl p-3 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,a.jsx)("button",{onClick:()=>{var e;if(!(null==(e=y.name)?void 0:e.trim()))return;let t={id:Date.now().toString(),name:y.name,type:y.type||"podcast",leaning:y.leaning||"center",trust:y.trust||3,frequency:y.frequency||"weekly",category:y.category||"general"};g(e=>[...e,t]),v({type:"podcast",leaning:"center",trust:3,frequency:"weekly",category:"general"})},disabled:!(null==(M=y.name)?void 0:M.trim()),className:"w-full bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white py-3 rounded-xl font-medium transition-all",children:"Add Source"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-slate-200",children:["Your Sources (",x.length,")"]}),x.length>=5&&(0,a.jsx)("span",{className:"text-xs text-emerald-400",children:"✓ Ready to visualize"})]}),0===x.length?(0,a.jsx)("p",{className:"text-sm text-slate-500 text-center py-8",children:"No sources added yet. Start by adding your most-consulted news source, podcast, or influencer."}):(0,a.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:x.map(e=>{let t=b.find(t=>t.id===e.leaning);return(0,a.jsxs)("div",{className:"bg-slate-900/50 border border-slate-600 rounded-xl p-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-200",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500",children:e.type}),(0,a.jsx)("span",{className:"text-xs text-slate-600",children:"•"}),(0,a.jsx)("span",{className:(0,h.cn)("text-xs",D((null==t?void 0:t.color)||"slate")),children:null==t?void 0:t.label}),(0,a.jsx)("span",{className:"text-xs text-slate-600",children:"•"}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"⭐".repeat(e.trust)})]})]}),(0,a.jsx)("button",{onClick:()=>{var t;return t=e.id,void g(e=>e.filter(e=>e.id!==t))},className:"text-slate-500 hover:text-red-400 transition-colors text-sm",children:"✕"})]},e.id)})})]})]})})}if("visualization"===c){let e=w();return(0,a.jsx)(n.O,{title:"Your Information Network",description:"Visual representation of your sources",progress:S,onNext:()=>o("insights"),onBack:()=>o("add-sources"),nextLabel:"View Insights →",icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-white"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Source Network"}),(0,a.jsx)("div",{className:"relative mx-auto w-[400px] h-[400px]",children:(0,a.jsxs)("svg",{width:"400",height:"400",className:"absolute inset-0",children:[j.map((e,t)=>{let s=j[(t+1)%j.length];return(0,a.jsx)("line",{x1:e.x,y1:e.y,x2:s.x,y2:s.y,stroke:"rgba(6, 182, 212, 0.3)",strokeWidth:"1"},"line-".concat(t))}),j.map(e=>{let t=b.find(t=>t.id===e.source.leaning);return D((null==t?void 0:t.color)||"slate"),(0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:8+2*e.source.trust,fill:"rgba(6, 182, 212, 0.2)",stroke:"rgba(6, 182, 212, 0.6)",strokeWidth:"2"}),(0,a.jsx)("text",{x:e.x,y:e.y+4,textAnchor:"middle",className:"text-xs fill-slate-300",children:e.source.name.substring(0,3)})]},e.id)})]})})]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-light text-cyan-400 mb-1",children:e.typeDiversity}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Type Diversity"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-light text-blue-400 mb-1",children:e.ideologicalDiversity}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Ideological Diversity"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-light text-amber-400 mb-1",children:e.homophily}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Echo Chamber Risk"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-xl p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-light text-emerald-400 mb-1",children:e.overallDiversity}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:"Overall Diversity"})]})]})]})})}if("insights"===c){let e=w(),t=(()=>{let e=w();if(!e)return[];let t=[];if(e.homophily>60){let e=b.find(e=>!x.find(t=>t.leaning===e.id));e&&t.push("Add a ".concat(e.label," source to reduce echo chamber effect"))}if(e.typeDiversity<50){let e=m.filter(e=>!x.find(t=>t.type===e.id));e.length>0&&t.push("Try adding a ".concat(e[0].label," to diversify source types"))}return 0===x.filter(e=>"unknown"===e.leaning).length&&t.push("Consider adding non-political sources (science, culture, tech) for cognitive balance"),t})();return(0,a.jsx)(n.O,{title:"Source Awareness Insights",description:"Understanding your information ecosystem",progress:S,onNext:k,onBack:()=>o("visualization"),nextLabel:"Save Progress →",icon:(0,a.jsx)(d.A,{className:"w-5 h-5 text-white"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 text-center",children:[(0,a.jsx)("div",{className:"text-4xl font-light text-slate-200 mb-2",children:(null==e?void 0:e.overallDiversity)||0}),(0,a.jsxs)("div",{className:"text-lg text-cyan-400 mb-4",children:[e&&e.overallDiversity>=70?"Diverse":e&&e.overallDiversity>=40?"Moderate":"Echo Chamber Risk","Information Diet"]}),(0,a.jsx)("p",{className:"text-slate-300 leading-relaxed max-w-xl mx-auto",children:e&&e.overallDiversity>=70?"You have a well-balanced information diet with diverse sources and perspectives.":e&&e.overallDiversity>=40?"Your information sources show moderate diversity. Consider adding more varied perspectives.":"Your information sources show high homophily. This creates echo chamber risk."})]}),e&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Diversity Breakdown"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Source Types"}),(0,a.jsxs)("span",{className:"text-slate-200",children:[e.typeDiversity,"/100"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Ideological Range"}),(0,a.jsxs)("span",{className:"text-slate-200",children:[e.ideologicalDiversity,"/100"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Total Sources"}),(0,a.jsx)("span",{className:"text-slate-200",children:e.totalSources})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Dominant Perspective"}),(0,a.jsx)("span",{className:"text-slate-200",children:e.dominantLeaning})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-4",children:"Recommendations"}),t.length>0?(0,a.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-cyan-400 mt-0.5",children:"•"}),(0,a.jsx)("span",{className:"text-sm text-slate-300",children:e})]},t))}):(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Your information diet is well-balanced!"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-cyan-900/30 to-blue-900/30 border border-cyan-700/50 rounded-2xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-cyan-200 mb-3",children:"What This Reveals"}),(0,a.jsxs)("p",{className:"text-sm text-cyan-300/80 leading-relaxed",children:["Your ",(0,a.jsx)("strong",{children:"Source Awareness (SA)"})," score measures how consciously you curate your information diet. High diversity indicates you're actively seeking multiple perspectives rather than defaulting to algorithmically-curated echo chambers."]}),(0,a.jsx)("p",{className:"text-xs text-cyan-400/60 mt-3",children:"Regular source auditing helps maintain epistemic independence and reduces susceptibility to ideological capture."})]})]})})}return null}}},e=>{e.O(0,[953,909,396,0,441,255,358],()=>e(e.s=12768)),_N_E=e.O()}]);