(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{17910:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},39867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},52056:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},71847:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(12115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:s,strokeWidth:n?24*Number(i)/Number(r):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let s=(0,a.forwardRef)((s,o)=>{let{className:n,...c}=s;return(0,a.createElement)(i,{ref:o,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...c})});return s.displayName=r(e),s}},77990:(e,t,s)=>{"use strict";s.d(t,{Kl:()=>c,c1:()=>o,iL:()=>n,xc:()=>i});var a=s(12115),r=s(81716);let l=(0,s(78396).createAutonomyStore)();function o(e){let[t,s]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{try{let t=await l.getResponses(e);s(t)}catch(e){console.error("Failed to load responses:",e)}finally{o(!1)}})()},[e]),{responses:t,saveResponse:(0,a.useCallback)(async e=>{try{let t={...e,userId:"default_user"};await l.saveResponse(t),s(s=>s.find(t=>t.itemId===e.itemId)?s.map(s=>s.itemId===e.itemId?t:s):[...s,t])}catch(e){throw console.error("Failed to save response:",e),e}},[]),loading:r}}function i(){let[e,t]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await l.getProfile();t(e)}catch(e){console.error("Failed to load profile:",e)}finally{o(!1)}})()},[]);let i=(0,a.useCallback)(async e=>{try{await l.saveProfile(e),t(e)}catch(e){throw console.error("Failed to save profile:",e),e}},[]),n=(0,a.useCallback)(async()=>{try{let e=await l.getAllResponses();if(0===e.length)return;let t=(0,r.cT)(e),s={userId:"default_user",scores:{...t.scores,EH:{raw:0,ci_lower:0,ci_upper:0,ci_width:0,n_items:0,alpha:0},II:{raw:0,ci_lower:0,ci_upper:0,ci_width:0,n_items:0,alpha:0}},composite_autonomy:t.composite_autonomy,interpretation:{...t.interpretation,EH:"low",II:"low"},lastUpdated:new Date,version:t.version};await i(s)}catch(e){throw console.error("Failed to recalculate profile:",e),e}},[i]);return{profile:e,saveProfile:i,recalculateProfile:n,loading:s}}function n(){let e=(0,a.useCallback)(async()=>{try{return await l.exportData()}catch(e){throw console.error("Failed to export data:",e),e}},[]),t=(0,a.useCallback)(async()=>{try{let t=await e(),{exportScoresCSV:a}=await Promise.resolve().then(s.bind(s,81716));if(t.profiles.length>0){let e=t.profiles[t.profiles.length-1],s={assessmentId:"export",userId:e.userId,timestamp:e.lastUpdated,version:e.version,scores:e.scores,composite_autonomy:e.composite_autonomy,response_integrity:{acquiescence_bias:0,straightlining:!1,completion_time_flag:!1,attention_check_passed:!0},completion_percentage:100,interpretation:e.interpretation};return a(s)}return"No profile data available for export"}catch(e){throw console.error("Failed to export CSV:",e),e}},[e]);return{exportData:e,exportCSV:t}}function c(){return{useResponses:o,useProfile:i,useExport:n,userId:()=>"default-user",loading:!1}}},93966:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(95155),r=s(12115),l=s(77990),o=s(78396),i=s(20063),n=s(39867),c=s(17910),d=s(71847);let m=(0,d.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=s(52056);let h=(0,d.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function x(){let e=(0,i.useRouter)(),{exportData:t,exportCSV:s}=(0,l.iL)(),[d,x]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),y=async()=>{b(!0);try{let e=await t(),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="reflector-data-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(e){console.error("Export failed:",e)}finally{b(!1)}},f=async()=>{b(!0);try{let e=await s(),t=new Blob([e],{type:"text/csv"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="reflector-scores-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(e){console.error("CSV export failed:",e)}finally{b(!1)}},v=async()=>{try{let t=(0,o.createAutonomyStore)();await t.clearData(),x(!1),e.push("/")}catch(e){console.error("Clear data failed:",e)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-light mb-2",children:"Settings"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Manage your data and preferences"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-medium mb-4 text-slate-200 flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-blue-400"}),"Data Export"]}),(0,a.jsx)("p",{className:"text-slate-400 mb-6",children:"Download your complete assessment data and progress history."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:y,disabled:p,className:"flex items-center gap-3 p-4 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600 rounded-xl transition-all disabled:opacity-50",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-blue-400"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-200",children:"Export JSON"}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:"Complete data with metadata"})]})]}),(0,a.jsxs)("button",{onClick:f,disabled:p,className:"flex items-center gap-3 p-4 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600 rounded-xl transition-all disabled:opacity-50",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-emerald-400"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-200",children:"Export CSV"}),(0,a.jsx)("div",{className:"text-xs text-slate-500",children:"Scores for analysis"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-medium mb-4 text-slate-200 flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-emerald-400"}),"Privacy & Security"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-emerald-900/20 border border-emerald-700/30 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-emerald-200 mb-2",children:"Local-First Storage"}),(0,a.jsx)("p",{className:"text-sm text-emerald-300/80",children:"All your data is stored locally in your browser. Nothing is sent to external servers unless you explicitly export it."})]}),(0,a.jsxs)("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-200 mb-2",children:"No Tracking"}),(0,a.jsx)("p",{className:"text-sm text-blue-300/80",children:"We don't use analytics, cookies, or any tracking technologies. Your privacy is protected by design."})]}),(0,a.jsxs)("div",{className:"bg-violet-900/20 border border-violet-700/30 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-violet-200 mb-2",children:"Data Ownership"}),(0,a.jsx)("p",{className:"text-sm text-violet-300/80",children:"You own your data completely. Export it anytime, delete it anytime. No questions asked."})]})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-medium mb-4 text-slate-200 flex items-center gap-2",children:[(0,a.jsx)(m,{className:"w-5 h-5 text-red-400"}),"Clear All Data"]}),(0,a.jsx)("p",{className:"text-slate-400 mb-6",children:"Permanently delete all your assessment data, progress, and settings. This action cannot be undone."}),d?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-red-900/20 border border-red-700/30 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-200 mb-2",children:"Are you absolutely sure?"}),(0,a.jsx)("p",{className:"text-sm text-red-300/80",children:"This will permanently delete all your assessment responses, progress data, streak information, and settings. You cannot recover this data."})]})]})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:v,className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all",children:"Yes, Delete Everything"}),(0,a.jsx)("button",{onClick:()=>x(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-xl transition-all",children:"Cancel"})]})]}):(0,a.jsx)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-500/50 text-red-200 rounded-xl transition-all",children:"Clear All Data"})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 mb-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-medium mb-4 text-slate-200 flex items-center gap-2",children:[(0,a.jsx)(h,{className:"w-5 h-5 text-blue-400"}),"About Reflector"]}),(0,a.jsxs)("div",{className:"space-y-4 text-slate-300",children:[(0,a.jsx)("p",{children:"Reflector is a self-guided metacognitive training suite designed to help you develop epistemic autonomy—the ability to form and maintain beliefs based on evidence rather than social pressure or authority."}),(0,a.jsx)("p",{children:"Built on evidence from Schema Therapy, Motivational Interviewing, Social Identity Theory, and cognitive psychology research on belief formation and bias."}),(0,a.jsxs)("div",{className:"bg-slate-700/30 rounded-xl p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-200 mb-2",children:"Research Foundations"}),(0,a.jsxs)("ul",{className:"text-sm text-slate-400 space-y-1",children:[(0,a.jsx)("li",{children:"• Young, J. E. (2003). Schema therapy: A practitioner's guide"}),(0,a.jsx)("li",{children:"• Miller, W. R., & Rollnick, S. (2013). Motivational interviewing"}),(0,a.jsx)("li",{children:"• Tajfel, H., & Turner, J. C. (1979). Social identity theory"}),(0,a.jsx)("li",{children:"• Kahneman, D. (2011). Thinking, fast and slow"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:[(0,a.jsx)("strong",{children:"Disclaimer:"})," This tool is for educational and self-reflection purposes only. It is not a substitute for professional therapy or clinical assessment."]})]})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-slate-500",children:[(0,a.jsx)("p",{children:"Evidence over echo. Curiosity over certainty."}),(0,a.jsx)("p",{className:"mt-1",children:"Reflector v1.0.0"})]})]})})}},95114:(e,t,s)=>{Promise.resolve().then(s.bind(s,93966))}},e=>{e.O(0,[278,396,441,255,358],()=>e(e.s=95114)),_N_E=e.O()}]);