(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{1473:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},8010:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var r=a(12115);let s=(0,a(78396).createAutonomyStore)();function l(){let[e,t]=(0,r.useState)({userId:"default-user",current:0,longest:0,lastActivity:new Date,milestones:{seven:!1,twentyOne:!1,sixty:!1,hundred:!1}}),[a,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await s.getStreak();t(e)}catch(e){console.error("Failed to load streak:",e)}finally{l(!1)}})()},[]);let o=(0,r.useCallback)(async()=>{try{await s.updateStreak();let e=await s.getStreak();t(e)}catch(e){throw console.error("Failed to update streak:",e),e}},[]),i=(0,r.useCallback)(()=>{let t=new Date,a=new Date(e.lastActivity),r=Math.floor((t.getTime()-a.getTime())/864e5);return 0===r?"current":1===r?"at_risk":"broken"},[e.lastActivity]),n=(0,r.useCallback)(()=>e.milestones.seven?e.milestones.twentyOne?e.milestones.sixty?e.milestones.hundred?{target:null,achieved:!0}:{target:100,achieved:!1}:{target:60,achieved:!1}:{target:21,achieved:!1}:{target:7,achieved:!1},[e.milestones]),c=(0,r.useCallback)(()=>{let t=i(),a=n();switch(t){case"current":if(a.target)return"Keep it up! ".concat(a.target-e.current," days until your next milestone.");return"Amazing! You've achieved all milestones.";case"at_risk":return"Your streak is at risk. Complete a reflection today to keep it alive!";case"broken":return"Streak broken. Start fresh and build a new habit!";default:return"Start your reflection streak today!"}},[e.current,i,n]);return{streak:e,updateStreak:o,getStreakStatus:i,getNextMilestone:n,getStreakMessage:c,loading:a}}},17666:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},26983:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},27632:(e,t,a)=>{Promise.resolve().then(a.bind(a,90857))},61362:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(2821),s=a(75889);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:a,strokeWidth:n?24*Number(i)/Number(s):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let a=(0,r.forwardRef)((a,o)=>{let{className:n,...c}=a;return(0,r.createElement)(i,{ref:o,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...c})});return a.displayName=s(e),a}},77990:(e,t,a)=>{"use strict";a.d(t,{Kl:()=>c,c1:()=>o,iL:()=>n,xc:()=>i});var r=a(12115),s=a(81716);let l=(0,a(78396).createAutonomyStore)();function o(e){let[t,a]=(0,r.useState)([]),[s,o]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let t=await l.getResponses(e);a(t)}catch(e){console.error("Failed to load responses:",e)}finally{o(!1)}})()},[e]),{responses:t,saveResponse:(0,r.useCallback)(async e=>{try{let t={...e,userId:"default_user"};await l.saveResponse(t),a(a=>a.find(t=>t.itemId===e.itemId)?a.map(a=>a.itemId===e.itemId?t:a):[...a,t])}catch(e){throw console.error("Failed to save response:",e),e}},[]),loading:s}}function i(){let[e,t]=(0,r.useState)(null),[a,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await l.getProfile();t(e)}catch(e){console.error("Failed to load profile:",e)}finally{o(!1)}})()},[]);let i=(0,r.useCallback)(async e=>{try{await l.saveProfile(e),t(e)}catch(e){throw console.error("Failed to save profile:",e),e}},[]),n=(0,r.useCallback)(async()=>{try{let e=await l.getAllResponses();if(0===e.length)return;let t=(0,s.cT)(e),a={userId:"default_user",scores:{...t.scores,EH:{raw:0,ci_lower:0,ci_upper:0,ci_width:0,n_items:0,alpha:0},II:{raw:0,ci_lower:0,ci_upper:0,ci_width:0,n_items:0,alpha:0}},composite_autonomy:t.composite_autonomy,interpretation:{...t.interpretation,EH:"low",II:"low"},lastUpdated:new Date,version:t.version};await i(a)}catch(e){throw console.error("Failed to recalculate profile:",e),e}},[i]);return{profile:e,saveProfile:i,recalculateProfile:n,loading:a}}function n(){let e=(0,r.useCallback)(async()=>{try{return await l.exportData()}catch(e){throw console.error("Failed to export data:",e),e}},[]),t=(0,r.useCallback)(async()=>{try{let t=await e(),{exportScoresCSV:r}=await Promise.resolve().then(a.bind(a,81716));if(t.profiles.length>0){let e=t.profiles[t.profiles.length-1],a={assessmentId:"export",userId:e.userId,timestamp:e.lastUpdated,version:e.version,scores:e.scores,composite_autonomy:e.composite_autonomy,response_integrity:{acquiescence_bias:0,straightlining:!1,completion_time_flag:!1,attention_check_passed:!0},completion_percentage:100,interpretation:e.interpretation};return r(a)}return"No profile data available for export"}catch(e){throw console.error("Failed to export CSV:",e),e}},[e]);return{exportData:e,exportCSV:t}}function c(){return{useResponses:o,useProfile:i,useExport:n,userId:()=>"default-user",loading:!1}}},83457:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},90857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(95155),s=a(12115),l=a(20063),o=a(77990),i=a(8010),n=a(78396),c=a(1473),d=a(83457),m=a(95740),u=a(17666),h=a(61362),x=a(26983),f=a(64269);let p={disconfirm:["What's one belief you held today that you could test with evidence?","If you had to prove yourself wrong about something, what would you look for?","What assumption did you make today that you haven't verified?","What would change your mind about a position you took today?"],emotion:["When did you feel most defensive today? What triggered that response?","What emotional reaction did you have that surprised you?","How did your mood affect your judgment today?","What belief felt threatened today, and why?"],source:["Where did your strongest opinion today come from?","What source influenced you most today, and how do you know it's reliable?","Did you seek out opposing viewpoints on anything today?","What information did you accept without questioning today?"],meta:["What cognitive pattern did you notice in yourself today?","How did you handle uncertainty today?","What would you do differently if you could re-live today?","What insight about your thinking surprised you today?"]},g=[{id:"disconfirm",label:"Falsifiability",icon:c.A,color:"violet"},{id:"emotion",label:"Emotional Awareness",icon:d.A,color:"rose"},{id:"source",label:"Source Awareness",icon:m.A,color:"cyan"},{id:"meta",label:"Metacognition",icon:u.A,color:"amber"}];function y(){let e=(0,l.useRouter)(),{userId:t,loading:a}=(0,o.Kl)(),{streak:d,updateStreak:m,getStreakMessage:u}=(0,i.E)(),[y,b]=(0,s.useState)(""),[v,w]=(0,s.useState)(""),[k,j]=(0,s.useState)(""),[N,A]=(0,s.useState)(0),[C,_]=(0,s.useState)(!1),[S,I]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(S){let e=setInterval(()=>{A(Math.floor((Date.now()-S.getTime())/1e3))},1e3);return()=>clearInterval(e)}},[S]);let M=async()=>{if(!t||!y||!k.trim())return;let e={id:crypto.randomUUID(),userId:t(),date:new Date,prompt:v,category:y,response:k.trim(),timeSpent:N,insightFlagged:k.length>100};try{await n.W.saveDailyReflection(e),await m(),await n.W.checkBadges(),_(!0)}catch(e){console.error("Failed to save reflection:",e)}},W=e=>{let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))};if(a||!t)return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-xl text-slate-400",children:"Loading reflection space..."})});if(C){var R;return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto pt-12",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)(h.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-light text-slate-100 mb-4",children:"Reflection Complete"}),(0,r.jsxs)("p",{className:"text-lg text-slate-300 mb-6",children:["You spent ",W(N)," reflecting on ",null==(R=g.find(e=>e.id===y))?void 0:R.label.toLowerCase(),"."]})]}),(0,r.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-slate-200 mb-4",children:"Your Reflection"}),(0,r.jsxs)("div",{className:"bg-slate-900/50 rounded-xl p-4 mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Prompt:"}),(0,r.jsxs)("p",{className:"text-slate-300 italic",children:['"',v,'"']})]}),(0,r.jsxs)("div",{className:"bg-slate-900/50 rounded-xl p-4",children:[(0,r.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Your response:"}),(0,r.jsx)("p",{className:"text-slate-200 leading-relaxed",children:k})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-emerald-900/30 to-green-900/30 border border-emerald-700/50 rounded-2xl p-6 mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-emerald-200 mb-3",children:"Streak Update"}),(0,r.jsx)("p",{className:"text-emerald-300 mb-4",children:u()}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm text-emerald-400",children:["Current streak: ",d.current," days"]}),(0,r.jsxs)("span",{className:"text-sm text-emerald-400",children:["Longest: ",d.longest," days"]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>{_(!1),b(""),j(""),A(0),I(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-xl font-medium transition-all",children:"Reflect Again"}),(0,r.jsx)("button",{onClick:()=>e.push("/progress"),className:"flex-1 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white py-3 rounded-xl font-medium transition-all shadow-lg shadow-emerald-500/20",children:"View Progress"})]})]})})}return y?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto pt-12",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,r.jsx)("button",{onClick:()=>b(""),className:"text-slate-400 hover:text-slate-200 transition-colors",children:"← Back"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,r.jsx)(x.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:W(N)})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex items-center gap-3 mb-4",children:(()=>{let e=g.find(e=>e.id===y),t=null==e?void 0:e.icon;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{className:"w-6 h-6 text-slate-300"}),(0,r.jsx)("h1",{className:"text-2xl font-light text-slate-100",children:null==e?void 0:e.label})]})})()}),(0,r.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-slate-200 mb-4",children:"Reflection Prompt"}),(0,r.jsxs)("p",{className:"text-slate-300 leading-relaxed text-lg italic",children:['"',v,'"']})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block text-lg font-medium text-slate-200 mb-4",children:"Your Response"}),(0,r.jsx)("textarea",{value:k,onChange:e=>j(e.target.value),placeholder:"Take your time to think deeply about this question. There's no right or wrong answer—just honest self-examination.",className:"w-full h-64 bg-slate-900/50 border border-slate-600 rounded-xl p-4 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-emerald-500 transition-colors resize-none"}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("span",{className:"text-sm text-slate-500",children:[k.length," characters"]}),(0,r.jsx)("span",{className:"text-sm text-slate-500",children:k.length>100?"✨ Insightful response!":"Keep going..."})]})]}),(0,r.jsx)("button",{onClick:M,disabled:!k.trim(),className:"w-full bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 disabled:bg-slate-700 disabled:cursor-not-allowed text-white py-4 rounded-xl font-medium transition-all shadow-lg shadow-emerald-500/20",children:"Complete Reflection"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto pt-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-500 rounded-xl flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-light",children:"Daily Reflection"})]}),(0,r.jsx)("p",{className:"text-xl text-slate-300 font-light max-w-2xl mx-auto",children:"Take a moment to examine your thinking patterns. Choose a focus area for today's reflection."})]}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:g.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>(e=>{b(e);let t=p[e];w(t[Math.floor(Math.random()*t.length)]),I(new Date)})(e.id),className:(0,f.cn)("p-6 rounded-2xl border transition-all hover:scale-105 text-left",(e=>{switch(e){case"violet":return"bg-violet-900/20 border-violet-700/30 text-violet-300";case"rose":return"bg-rose-900/20 border-rose-700/30 text-rose-300";case"cyan":return"bg-cyan-900/20 border-cyan-700/30 text-cyan-300";case"amber":return"bg-amber-900/20 border-amber-700/30 text-amber-300";default:return"bg-slate-900/20 border-slate-700/30 text-slate-300"}})(e.color)),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)(t,{className:"w-6 h-6"}),(0,r.jsx)("h3",{className:"text-lg font-medium",children:e.label})]}),(0,r.jsxs)("p",{className:"text-sm opacity-80",children:["disconfirm"===e.id&&"Practice identifying falsifiable conditions for your beliefs","emotion"===e.id&&"Notice how emotions influence your reasoning","source"===e.id&&"Examine where your information and opinions come from","meta"===e.id&&"Think about your thinking patterns and biases"]})]},e.id)})}),(0,r.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur border border-slate-700 rounded-2xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-3",children:"Why Reflect?"}),(0,r.jsx)("p",{className:"text-slate-400 leading-relaxed mb-4",children:"Daily reflection builds metacognitive awareness—the ability to observe and understand your own thinking patterns. This practice helps you:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-slate-400 space-y-1",children:[(0,r.jsx)("li",{children:"Recognize when emotions are driving your reasoning"}),(0,r.jsx)("li",{children:"Identify sources of bias and assumption"}),(0,r.jsx)("li",{children:"Develop more calibrated confidence in your beliefs"}),(0,r.jsx)("li",{children:"Build resilience against manipulation"})]})]})]})})}},95740:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])}},e=>{e.O(0,[278,760,396,441,255,358],()=>e(e.s=27632)),_N_E=e.O()}]);