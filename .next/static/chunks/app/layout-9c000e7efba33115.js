(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1473:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},1524:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},13673:()=>{},20063:(e,t,s)=>{"use strict";var a=s(47260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},30814:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},39867:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},42529:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},49738:(e,t,s)=>{"use strict";s.d(t,{PWAProvider:()=>x});var a=s(95155),l=s(12115),r=s(39867),n=s(65229),i=s(71847);let o=(0,i.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),d=(0,i.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);function c(){let[e,t]=(0,l.useState)(null),[s,i]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches)return void c(!0);let e=e=>{e.preventDefault(),t(e),setTimeout(()=>{i(!0)},3e3)},s=()=>{c(!0),i(!1),t(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s)}},[]);let m=async()=>{if(e)try{await e.prompt();let{outcome:s}=await e.userChoice;"accepted"===s?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null),i(!1)}catch(e){console.error("Error showing install prompt:",e)}};return d||!s||!e||sessionStorage.getItem("pwa-install-dismissed")?null:(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:(0,a.jsxs)("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-700 rounded-2xl p-4 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-violet-500 rounded-xl flex items-center justify-center",children:(0,a.jsx)(r.A,{className:"w-5 h-5 text-white"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-200 mb-1",children:"Install Reflector"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mb-3",children:"Add to your home screen for quick access to your epistemic autonomy training."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:m,className:"flex-1 bg-gradient-to-r from-blue-500 to-violet-500 hover:from-blue-600 hover:to-violet-600 text-white text-xs py-2 px-3 rounded-lg font-medium transition-all",children:"Install"}),(0,a.jsx)("button",{onClick:()=>{i(!1),sessionStorage.setItem("pwa-install-dismissed","true")},className:"text-slate-400 hover:text-slate-200 transition-colors",children:(0,a.jsx)(n.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[(0,a.jsx)(o,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Works on mobile and desktop"})]})})]})})}function m(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=()=>{r(navigator.onLine)},s=window.matchMedia("(display-mode: standalone)").matches,a=/iPad|iPhone|iPod/.test(navigator.userAgent),l="standalone"in window.navigator&&window.navigator.standalone;return t(s||a&&l),e(),window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e)?(0,a.jsx)("div",{className:"fixed top-4 right-4 z-40",children:(0,a.jsxs)("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-700 rounded-xl px-3 py-2 flex items-center gap-2",children:[(0,a.jsx)(d,{className:"w-4 h-4 text-emerald-400"}),(0,a.jsx)("span",{className:"text-xs text-slate-300",children:"PWA Mode"}),!s&&(0,a.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full",title:"Offline"})]})}):null}function x(e){let{children:t}=e;return(0,l.useEffect)(()=>{"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{let e=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered successfully:",e.scope),e.addEventListener("updatefound",()=>{let t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&function(){let e=document.createElement("div");e.className="fixed top-4 right-4 z-50 bg-slate-800 border border-slate-700 rounded-xl p-4 shadow-2xl",e.innerHTML='\n    <div class="flex items-center gap-3">\n      <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">\n        <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>\n        </svg>\n      </div>\n      <div>\n        <h3 class="text-sm font-medium text-slate-200">Update Available</h3>\n        <p class="text-xs text-slate-400">A new version of Reflector is ready.</p>\n      </div>\n      <button id="update-btn" class="bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-3 rounded-lg transition-all">\n        Update\n      </button>\n      <button id="dismiss-btn" class="text-slate-400 hover:text-slate-200">\n        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n        </svg>\n      </button>\n    </div>\n  ',document.body.appendChild(e);let t=e.querySelector("#update-btn"),s=e.querySelector("#dismiss-btn");null==t||t.addEventListener("click",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),e.remove()}),null==s||s.addEventListener("click",()=>{e.remove()}),setTimeout(()=>{document.body.contains(e)&&e.remove()},1e4)}()})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}catch(e){console.error("Service Worker registration failed:",e)}})},[]),(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(c,{}),(0,a.jsx)(m,{})]})}},53058:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13673,23)),Promise.resolve().then(s.bind(s,57387)),Promise.resolve().then(s.bind(s,49738))},57387:(e,t,s)=>{"use strict";s.d(t,{OnboardingWrapper:()=>v});var a=s(95155),l=s(20063),r=s(12115),n=s(52619),i=s.n(n),o=s(95740),d=s(65229),c=s(52987),m=s(1473),x=s(30814),h=s(1524),u=s(42529);function p(){let[e,t]=(0,r.useState)({hasSeenOnboarding:!1,hasBaselineScore:!1,isLoading:!0});(0,r.useEffect)(()=>{let e="true"===localStorage.getItem("hasSeenOnboarding");(async()=>{try{let{createAutonomyStore:a}=await Promise.all([s.e(278),s.e(396)]).then(s.bind(s,78396)),l=a(),r=(await l.getResponses("baseline-mirror")).length>0;t({hasSeenOnboarding:e,hasBaselineScore:r,isLoading:!1})}catch(s){console.error("Failed to check baseline completion:",s),t({hasSeenOnboarding:e,hasBaselineScore:!1,isLoading:!1})}})()},[]);let a=!e.hasSeenOnboarding&&!e.isLoading;return{...e,markOnboardingSeen:()=>{localStorage.setItem("hasSeenOnboarding","true"),t(e=>({...e,hasSeenOnboarding:!0}))},shouldShowOnboarding:a}}function g(e){let{onClose:t}=e,[s,l]=(0,r.useState)(0),{markOnboardingSeen:n}=p(),g=()=>{s<2&&l(s+1)},v=()=>{n(),t()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-700 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-violet-400 rounded-lg flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"w-4 h-4 text-white"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-300",children:"Welcome to Reflector"})]}),(0,a.jsx)("button",{onClick:v,className:"text-slate-400 hover:text-slate-200 transition-colors",children:(0,a.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[0===s&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-violet-400 rounded-2xl flex items-center justify-center mx-auto mb-6 animate-pulse",children:(0,a.jsx)(o.A,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h2",{className:"text-3xl font-light text-slate-100 mb-4",children:"Reclaim Your Epistemic Autonomy"}),(0,a.jsx)("p",{className:"text-lg text-slate-400 mb-8 leading-relaxed",children:"A research-backed suite for noticing when beliefs aren't yours. Develop the metacognitive skills to think independently."}),(0,a.jsx)("div",{className:"bg-slate-700/50 rounded-xl p-4 mb-8",children:(0,a.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,a.jsx)("strong",{className:"text-slate-200",children:"What you'll learn:"})," How to spot when your thinking patterns are outsourced to groups, authorities, or echo chambers."]})}),(0,a.jsxs)("button",{onClick:g,className:"bg-gradient-to-r from-blue-500 to-violet-500 hover:from-blue-600 hover:to-violet-600 text-white px-8 py-3 rounded-xl font-medium transition-all flex items-center gap-2 mx-auto",children:["How It Works",(0,a.jsx)(c.A,{className:"w-4 h-4"})]})]}),1===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-light text-slate-100 mb-6 text-center",children:"Three Steps to Autonomy"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:"Mirror"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Assess your current thinking patterns. Get your baseline autonomy score across four key constructs."})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-slate-500 rotate-90"})}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(x.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:"Loop"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Train bias detection through interactive games. Practice spotting when emotion bypasses deliberation."})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-slate-500 rotate-90"})}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(h.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-slate-200 mb-2",children:"Progress"}),(0,a.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Track your autonomy growth over time with visual dashboards and personalized insights."})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-8",children:[(0,a.jsx)("button",{onClick:()=>l(0),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-slate-200 px-4 py-3 rounded-xl font-medium transition-all",children:"Back"}),(0,a.jsxs)("button",{onClick:g,className:"flex-1 bg-gradient-to-r from-blue-500 to-violet-500 hover:from-blue-600 hover:to-violet-600 text-white px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2",children:["Get Started",(0,a.jsx)(c.A,{className:"w-4 h-4"})]})]})]}),2===s&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(u.A,{className:"w-8 h-8 text-white"})}),(0,a.jsx)("h2",{className:"text-2xl font-light text-slate-100 mb-4",children:"Ready to Begin?"}),(0,a.jsx)("p",{className:"text-slate-400 mb-8 leading-relaxed",children:"Start with the Baseline Mirror to get your autonomy score, or explore all modules at your own pace."}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(i(),{href:"/mirrors/baseline",onClick:()=>{n(),t()},className:"block w-full bg-gradient-to-r from-blue-500 to-violet-500 hover:from-blue-600 hover:to-violet-600 text-white px-6 py-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2",children:["Start with Baseline Mirror",(0,a.jsx)(c.A,{className:"w-4 h-4"})]}),(0,a.jsx)("button",{onClick:()=>{n(),t()},className:"w-full bg-slate-700/50 hover:bg-slate-600/50 text-slate-300 px-6 py-3 rounded-xl font-medium transition-all",children:"Explore All Modules"})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,a.jsx)("button",{onClick:()=>l(1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-slate-200 px-4 py-2 rounded-lg font-medium transition-all text-sm",children:"Back"}),(0,a.jsx)("button",{onClick:v,className:"flex-1 bg-transparent hover:bg-slate-700/50 text-slate-400 px-4 py-2 rounded-lg font-medium transition-all text-sm",children:"Skip for Now"})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 p-4 border-t border-slate-700",children:[0,1,2].map(e=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full transition-all ".concat(e===s?"bg-blue-500 w-6":e<s?"bg-blue-400":"bg-slate-600")},e))})]})})}function v(e){let{children:t}=e,s=(0,l.usePathname)(),{shouldShowOnboarding:n}=p(),[i,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{"/"===s&&n&&o(!0)},[s,n]),(0,a.jsxs)(a.Fragment,{children:[t,i&&(0,a.jsx)(g,{onClose:()=>{o(!1)}})]})}},65229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},95740:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])}},e=>{e.O(0,[978,469,441,255,358],()=>e(e.s=53058)),_N_E=e.O()}]);